API Contract: InsightEngine v1.0
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç API –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ InsightEngine. Backend-—Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (—ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Frontend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

–ë–∞–∑–æ–≤—ã–π URL: http://127.0.0.1:8000/api

1. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–ª–∏–µ–Ω—Ç–µ
–≠—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫–ª–∏–µ–Ω—Ç–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

URL: /clients/{client_code}

–ú–µ—Ç–æ–¥: GET

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:

client_code (integer, required): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞.

–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–ö–æ–¥ 200 OK)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∫–ª–∏–µ–Ω—Ç–µ.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (ClientDashboardData):

JSON

{
  "client_code": 1,
  "name": "–ê–π–≥–µ—Ä–∏–º",
  "status": "–ó–∞—Ä–ø–ª–∞—Ç–Ω—ã–π –∫–ª–∏–µ–Ω—Ç",
  "age": 28,
  "city": "–ê–ª–º–∞—Ç—ã",
  "avg_monthly_balance_KZT": 250000.00,
  "total_spending_3m": 750000.00,
  "top_categories": [
    {
      "category": "–¢–∞–∫—Å–∏",
      "amount": 85000.00
    },
    {
      "category": "–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã",
      "amount": 65000.00
    },
    {
      "category": "–ü—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è",
      "amount": 50000.00
    }
  ]
}
–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (–ö–æ–¥ 404 Not Found)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º client_code –Ω–µ –Ω–∞–π–¥–µ–Ω.

JSON

{
  "detail": "Client with code 999 not found"
}
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
–û—Å–Ω–æ–≤–Ω–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–æ–≥–∏–∫—É –∞–Ω–∞–ª–∏–∑–∞ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.

URL: /recommend

–ú–µ—Ç–æ–¥: POST

–ó–∞–≥–æ–ª–æ–≤–∫–∏:

Content-Type: application/json

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (RecommendationRequest)
JSON-–æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞.

JSON

{
  "client_code": 1
}
–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–ö–æ–¥ 200 OK)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ–±—ä–µ–∫—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (RecommendationResponse):

JSON

{
  "product": "–ö–∞—Ä—Ç–∞ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π",
  "push_notification": "–ê–π–≥–µ—Ä–∏–º, –≤ –∞–≤–≥—É—Å—Ç–µ –≤—ã —Å–¥–µ–ª–∞–ª–∏ 15 –ø–æ–µ–∑–¥–æ–∫ –Ω–∞ —Ç–∞–∫—Å–∏ –Ω–∞ 85 000 ‚Ç∏. –° –∫–∞—Ä—Ç–æ–π –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –≤–µ—Ä–Ω—É–ª–∏ –±—ã ‚âà3 400 ‚Ç∏. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. üöÄ"
}
–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (–ö–æ–¥ 404 Not Found)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º client_code –Ω–µ –Ω–∞–π–¥–µ–Ω.

JSON

{
  "detail": "Client with code 999 not found"
}
–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (–ö–æ–¥ 422 Unprocessable Entity)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –µ—Å–ª–∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, client_code –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º).

JSON

{
  "detail": [
    {
      "loc": [
        "body",
        "client_code"
      ],
      "msg": "value is not a valid integer",
      "type": "type_error.integer"
    }
  ]
}